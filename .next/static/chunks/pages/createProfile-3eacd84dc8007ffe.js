(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3541],{6861:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var o=n(r(4938)),i=r(5893),a=(0,o.default)((0,i.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");t.Z=a},4938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(6031)},9661:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(3366),o=r(7462),i=r(7294),a=r(6010),l=r(4780),u=r(948),c=r(1657),s=r(8169),d=r(5893),f=(0,s.Z)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),p=r(1588),h=r(4867);function v(e){return(0,h.Z)("MuiAvatar",e)}(0,p.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);let m=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],g=e=>{let{classes:t,variant:r,colorDefault:n}=e;return(0,l.Z)({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},v,t)},x=(0,u.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver(e,t){let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>(0,o.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,o.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]}))),Z=(0,u.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),b=(0,u.ZP)(f,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"}),y=i.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiAvatar"}),{alt:l,children:u,className:s,component:f="div",imgProps:p,sizes:h,src:v,srcSet:y,variant:w="circular"}=r,k=(0,n.Z)(r,m),P=null,j=function({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){let[o,a]=i.useState(!1);return i.useEffect(()=>{if(!r&&!n)return;a(!1);let o=!0,i=new Image;return i.onload=()=>{o&&a("loaded")},i.onerror=()=>{o&&a("error")},i.crossOrigin=e,i.referrerPolicy=t,i.src=r,n&&(i.srcset=n),()=>{o=!1}},[e,t,r,n]),o}((0,o.Z)({},p,{src:v,srcSet:y})),S=v||y,I=S&&"error"!==j,C=(0,o.Z)({},r,{colorDefault:!I,component:f,variant:w}),N=g(C);return P=I?(0,d.jsx)(Z,(0,o.Z)({alt:l,src:v,srcSet:y,sizes:h,ownerState:C,className:N.img},p)):null!=u?u:S&&l?l[0]:(0,d.jsx)(b,{ownerState:C,className:N.fallback}),(0,d.jsx)(x,(0,o.Z)({as:f,ownerState:C,className:(0,a.Z)(N.root,s),ref:t},k,{children:P}))});var w=y},1233:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(3366),o=r(7462),i=r(7294),a=r(6010),l=r(9766),u=r(4780),c=r(4867),s=r(3264),d=r(5149),f=r(9707),p=r(6500),h=r(5408),v=r(8700),m=r(5893);let g=["component","direction","spacing","divider","children","className","useFlexGap"],x=(0,p.Z)(),Z=(0,s.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function b(e){return(0,d.Z)({props:e,name:"MuiStack",defaultTheme:x})}let y=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],w=({ownerState:e,theme:t})=>{let r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,h.k9)({theme:t},(0,h.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let n=(0,v.hB)(t),i=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),a=(0,h.P$)({values:e.direction,base:i}),u=(0,h.P$)({values:e.spacing,base:i});"object"==typeof a&&Object.keys(a).forEach((e,t,r)=>{let n=a[e];if(!n){let o=t>0?a[r[t-1]]:"column";a[e]=o}});let c=(t,r)=>e.useFlexGap?{gap:(0,v.NA)(n,t)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${y(r?a[r]:e.direction)}`]:(0,v.NA)(n,t)}};r=(0,l.Z)(r,(0,h.k9)({theme:t},u,c))}return(0,h.dt)(t.breakpoints,r)};var k=r(948),P=r(1657);let j=function(e={}){let{createStyledComponent:t=Z,useThemeProps:r=b,componentName:l="MuiStack"}=e,s=()=>(0,u.Z)({root:["root"]},e=>(0,c.Z)(l,e),{}),d=t(w),p=i.forwardRef(function(e,t){let l=r(e),u=(0,f.Z)(l),{component:c="div",direction:p="column",spacing:h=0,divider:v,children:x,className:Z,useFlexGap:b=!1}=u,y=(0,n.Z)(u,g),w=s();return(0,m.jsx)(d,(0,o.Z)({as:c,ownerState:{direction:p,spacing:h,useFlexGap:b},ref:t,className:(0,a.Z)(w.root,Z)},y,{children:v?function(e,t){let r=i.Children.toArray(e).filter(Boolean);return r.reduce((e,n,o)=>(e.push(n),o<r.length-1&&e.push(i.cloneElement(t,{key:`separator-${o}`})),e),[])}(x,v):x}))});return p}({createStyledComponent:(0,k.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,P.Z)({props:e,name:"MuiStack"})});var S=j},6031:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return o.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return a.Z},debounce:function(){return l.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return c.Z},ownerDocument:function(){return s.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return y},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return v.Z},unsupportedProp:function(){return m},useControlled:function(){return g.Z},useEventCallback:function(){return x.Z},useForkRef:function(){return Z.Z},useIsFocusVisible:function(){return b.Z}});var n=r(7078),o=r(8216),i=r(9064).Z,a=r(8169),l=r(7144),u=function(e,t){return()=>null},c=r(1579),s=r(8038),d=r(5340);r(7462);var f=function(e,t){return()=>null},p=r(7960).Z,h=r(8974),v=r(7909),m=function(e,t,r,n,o){return null},g=r(2627),x=r(2068),Z=r(1705),b=r(8791);let y={configure(e){n.Z.configure(e)}}},7909:function(e,t,r){"use strict";var n=r(7579);t.Z=n.Z},8377:function(e,t,r){"use strict";var n=r(1354);let o=(0,n.Z)();t.Z=o},1354:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(7462),o=r(3366),i=r(7294),a=r(6010),l=r(9731),u=r(6523),c=r(9707),s=r(9718),d=r(5893);let f=["className","component"];function p(e={}){let{themeId:t,defaultTheme:r,defaultClassName:p="MuiBox-root",generateClassName:h}=e,v=(0,l.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(u.Z),m=i.forwardRef(function(e,i){let l=(0,s.Z)(r),u=(0,c.Z)(e),{className:m,component:g="div"}=u,x=(0,o.Z)(u,f);return(0,d.jsx)(v,(0,n.Z)({as:g,ref:i,className:(0,a.Z)(m,h?h(p):p),theme:t&&l[t]||l},x))});return m}},3264:function(e,t,r){"use strict";var n=r(182);let o=(0,n.ZP)();t.Z=o},6013:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createProfile",function(){return r(9088)}])},6216:function(e,t,r){"use strict";r.d(t,{I8:function(){return c},Kg:function(){return d},db:function(){return u},hJ:function(){return o.hJ},l2:function(){return l},tO:function(){return s}});var n=r(3977),o=r(8918),i=r(1259),a=r(6650);let l=(0,n.ZF)({apiKey:"AIzaSyC-ZYyj3mpgKszGlMQmETjBuBCqzYGFDh4",authDomain:"edushare-e9242.firebaseapp.com",projectId:"edushare-e9242",storageBucket:"edushare-e9242.appspot.com",messagingSenderId:"826723606155",appId:"1:826723606155:web:4ef2868e093bc281523e8e",measurementId:"G-BGCNB10FJ0"}),u=(0,o.ad)(l),c=(0,i.v0)(l),s=(0,a.cF)(l),d=()=>(0,o.Bt)()},6716:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(8918);async function o(e,t){let r;if(!e)throw Error("userId is null or undefined.");let o=(0,n.ad)(t),i=(0,n.JU)(o,"Student",e),a=await (0,n.QT)(i),l=(0,n.JU)(o,"Instructor",e),u=await (0,n.QT)(l),c=(0,n.JU)(o,"Admin",e),s=await (0,n.QT)(c);if(a.exists())r="Student";else if(u.exists())r="Instructor";else if(s.exists())r="Admin";else throw Error("User not found in any role collection.");return r}},9088:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(5893),o=r(5242),i=r(6886),a=r(629),l=r(1233),u=r(5861),c=r(1903),s=r(3321),d=r(8377),f=r(1163),p=r(6216),h=r(6716),v=r(8918),m=r(6650),g=r(9661),x=r(6861),Z=r(7294);function b(){var e;let t=(0,f.useRouter)(),{userId:r}=(0,Z.useContext)(o.V),[b,y]=(0,Z.useState)(null),[w,k]=(0,Z.useState)(null),[P,j]=(0,Z.useState)(null),[S,I]=(0,Z.useState)(!1),[C,N]=(0,Z.useState)({displayName:"",bio:"",profilePicture:null,coverPicture:null,role:"",collection:"",title:""}),R=(0,v.ad)(p.l2),A=null===p.I8||void 0===p.I8?void 0:null===(e=p.I8.currentUser)||void 0===e?void 0:e.uid;async function _(e){e.preventDefault(),I(!0);let{displayName:r,bio:n,title:o,profilePicture:i,coverPicture:a}=C;try{let l,u;let c={displayName:r.trim(),bio:n.trim(),title:o.trim()},s=c.displayName&&c.bio&&c.title?null:"All fields are required.";if(s){j(s),I(!1);return}let d=(0,m.cF)(p.l2);if(i){let f=(0,m.iH)(d,"profilePictures/".concat(A));await (0,m.KV)(f,i),l=await (0,m.Jt)(f)}if(a){let g=(0,m.iH)(d,"coverPictures/".concat(A));await (0,m.KV)(g,a),u=await (0,m.Jt)(g)}(0,v.hJ)(R,C.collection);let x=(0,v.JU)(R,C.collection,A);await (0,v.r7)(x,{displayName:c.displayName,bio:c.bio,title:c.title,...l&&{profilePicture:l},...u&&{coverPicture:u}});let Z=await (0,h.Z)(A,p.l2);"Student"===Z?t.push("/Student"):"Instructor"===Z?t.push("/Instructor"):t.push("/Admin"),I(!1)}catch(b){console.log(b),j("An error occurred while saving your profile."),I(!1)}}(0,Z.useEffect)(()=>{A||console.log("user id is not defined"),async function(){let e=await (0,h.Z)(A,p.l2);e&&N(t=>({...t,role:e,collection:"Student"===e?"Student":"Instructor"}))}()},[A]);let M=e=>{let{name:t,value:r}=e.target;N({...C,[t]:r})},E=(e,t)=>{let r=e.target.files[0];if(r){N({...C,[t]:r});let n=new FileReader;n.onloadend=()=>{"profilePicture"===t?y(n.result):k(n.result)},n.readAsDataURL(r)}};return(0,n.jsx)(i.ZP,{container:!0,justifyContent:"center",alignItems:"center",style:{backgroundImage:"url(https://i.ibb.co/6bJ0VFb/Background.jpg)",backgroundSize:"cover",height:"100vh",width:"100vw"},children:(0,n.jsx)(a.Z,{sx:{width:500,height:650,backgroundColor:"white",padding:5,pb:10,boxShadow:{xs:"none",md:"0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)"}},children:(0,n.jsxs)(l.Z,{direction:"column",gap:2,children:[(0,n.jsx)(u.Z,{variant:"h4",sx:{color:"#454545",fontWeight:"800",textAlign:"center"},children:"Create Profile"}),(0,n.jsxs)("form",{style:{display:"flex",flexDirection:"column",margin:"10px 10px 10px 10px"},onSubmit:_,children:[(0,n.jsx)(d.Z,{component:"div",width:"100%",height:"200px",style:{backgroundImage:"url(".concat(w||"/path/to/default/cover/picture",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",cursor:"pointer",position:"relative"},onClick:()=>document.getElementById("coverPicture").click(),children:!w&&(0,n.jsx)(d.Z,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",style:{background:"rgba(128, 128, 128, 0.5)"},children:(0,n.jsx)(x.Z,{})})}),(0,n.jsx)("input",{type:"file",id:"coverPicture",name:"coverPicture",style:{display:"none"},onChange:e=>E(e,"coverPicture")}),(0,n.jsxs)(d.Z,{display:"flex",justifyContent:"center",children:[(0,n.jsx)(g.Z,{src:b,sx:{width:100,height:100,cursor:"pointer"},onClick:()=>document.getElementById("profilePicture").click(),children:!b&&(0,n.jsx)(x.Z,{})}),(0,n.jsx)("input",{type:"file",id:"profilePicture",name:"profilePicture",style:{display:"none"},onChange:e=>E(e,"profilePicture")})]}),(0,n.jsx)(c.Z,{id:"title",label:"Title",variant:"outlined",name:"title",value:C.title,onChange:M,sx:{margin:"10px 10px 10px 10px"}}),(0,n.jsx)(c.Z,{id:"displayName",label:"Display Name",variant:"outlined",name:"displayName",value:C.displayName,onChange:M,sx:{margin:"10px 10px 10px 10px"}}),(0,n.jsx)(c.Z,{id:"bio",label:"Bio",variant:"outlined",name:"bio",value:C.bio,onChange:M,sx:{margin:"10px 10px 10px 10px"}}),(0,n.jsx)(s.Z,{sx:{backgroundColor:"#00adb5",height:45,fontSize:22,fontWeight:"bold"},variant:"contained",type:"submit",children:"Save Profile"})]})]})})})}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[2016,2018,6224,387,6886,4695,1903,9774,2888,179],function(){return e(e.s=6013)}),_N_E=e.O()}]);